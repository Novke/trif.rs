<!DOCTYPE html>
<html lang="sr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>3F Solutions</title>
    <link rel="icon" type="image/svg+xml" href="resources/logo.svg">
    <link rel="icon" type="image/png" href="resources/logo.png">
    <link rel="stylesheet" href="style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&family=Space+Grotesk:wght@400;500;600;700&display=swap" rel="stylesheet">
</head>
<body>
    <!-- Intro Animation Overlay -->
    <div id="intro-overlay" class="intro-overlay">
        <div class="intro-content">
            <div id="intro-text-top" class="intro-text-top">
                <p>Learn how we can help you <span id="rotating-word" class="rotating-word"></span></p>
            </div>
            <video id="intro-video" muted playsinline>
                <source src="resources/animations/trif.webm" type="video/webm">
            </video>
            <img id="intro-logo-static" class="intro-logo-static" src="resources/logo-animated.svg" alt="3F Logo">
        </div>
        <div id="intro-skip" class="intro-skip">Click anywhere to continue</div>
    </div>

    <div class="background-gradient"></div>

    <nav class="navbar">
        <div class="logo">
            <a href="index.html"><img src="resources/logo.svg" alt="3F Solutions Logo"></a>
        </div>

        <div class="nav-menu">
            <a href="index.html" class="nav-link active">3F</a>
            <a href="o-nama.html" class="nav-link">O Nama</a>
            <a href="usluge.html" class="nav-link">Usluge</a>
        </div>

        <a href="#rezervisi" class="btn btn-primary">Rezerviši Termin</a>
    </nav>

    <main class="hero">
        <div class="hero-content">
            <h1 class="hero-title">
                <span class="gradient-text">Fast.</span> Flexible.<br>
                Fantastic.
            </h1>

            <p class="hero-subtitle">
                Vaša vizija, naša realizacija. <span class="highlight">Softver</span>, <span class="highlight">Dizajn</span> & <span class="highlight">Copywriting</span>
            </p>

            <ul class="hero-features">
                <li><span class="highlight">Softver</span> — Web aplikacije, custom softver, AI rešenja, consulting</li>
                <li><span class="highlight">Dizajn</span> — UI/UX, logo, animacije, video editing</li>
                <li><span class="highlight">Copywriting</span> — Prodajni tekstovi, email strategije, ecommerce copy</li>
            </ul>

            <div class="hero-buttons">
                <a href="usluge.html" class="btn btn-secondary">Istraži Usluge</a>
                <a href="o-nama.html" class="btn btn-outline">Upoznaj Tim</a>
            </div>
        </div>

        <div class="hero-logo">
            <img src="resources/logo.svg" alt="3F Solutions">
        </div>
    </main>


    <script>
        (function() {
            const overlay = document.getElementById('intro-overlay');
            const video = document.getElementById('intro-video');
            const introTextTop = document.getElementById('intro-text-top');
            const rotatingWord = document.getElementById('rotating-word');
            const skipText = document.getElementById('intro-skip');

            const words = [
                "grow",
                "scale",
                "convert",
                "automate",
                "stand out",
                "save time",
                "sell more",
                "get leads",
                "build trust",
                "look premium"
            ];

            let wordIndex = 0;
            let wordInterval = null;

            // Check if user has seen intro before
            if (sessionStorage.getItem('introSeen')) {
                overlay.style.display = 'none';
                return;
            }

            // Play video when loaded
            video.addEventListener('loadeddata', function() {
                video.play();
            });

            // Show top text earlier (at 50% of video)
            video.addEventListener('timeupdate', function() {
                const progress = video.currentTime / video.duration;
                if (progress >= 0.5 && !introTextTop.classList.contains('visible')) {
                    introTextTop.classList.add('visible');
                    // Show first word
                    rotatingWord.textContent = words[0];
                    rotatingWord.classList.add('animate-in');
                }
            });

            // Start rotating words when video ends
            video.addEventListener('ended', function() {
                skipText.classList.add('visible');

                // Fade out video and show static logo
                video.classList.add('fade-out');
                setTimeout(function() {
                    document.getElementById('intro-logo-static').classList.add('visible');
                }, 500);

                // Rotate words every 2 seconds
                wordInterval = setInterval(function() {
                    rotatingWord.classList.remove('animate-in');
                    rotatingWord.classList.add('animate-out');

                    setTimeout(function() {
                        wordIndex = (wordIndex + 1) % words.length;
                        rotatingWord.textContent = words[wordIndex];
                        rotatingWord.classList.remove('animate-out');
                        rotatingWord.classList.add('animate-in');
                    }, 300);
                }, 2000);
            });

            // Click anywhere to dismiss
            overlay.addEventListener('click', function() {
                if (wordInterval) clearInterval(wordInterval);
                overlay.classList.add('fade-out');
                sessionStorage.setItem('introSeen', 'true');
                setTimeout(function() {
                    overlay.style.display = 'none';
                }, 600);
            });

            // Allow skip with any key
            document.addEventListener('keydown', function(e) {
                if (overlay.style.display !== 'none') {
                    overlay.click();
                }
            });
        })();
    </script>
</body>
</html>
